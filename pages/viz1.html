<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- TODO: Change title -->
		<title>Granger HW4</title>

		<!-- Load Bulma from CDN (consider saving it to repository instead) -->
		<!-- https://bulma.io/ -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">

		<!-- Load Font Awesome 5 (free) icons -->
		<script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

		<!-- include d3.js v5 -->
		<script src="https://d3js.org/d3.v5.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js"></script>

		<!-- Custom JS and CSS-->
		<script src="../js/viz1.js"></script>
		<script src="../js/common.js"></script>
		<link href="../css/viz1.css" rel="stylesheet" type="text/css">
	</head>

	<body>

		<!-- Page header -->
		<section class="hero is-success is-bold">
			<div class="hero-body">
				<div class="container">
					<h1 class="title">Homework 4</h1>

					<h2 class="subtitle">Built to show my visualizations for homework 4</h2>
				</div>
			</div>
		</section>
		<!-- End page header -->

		<!-- Page navigation -->
		<nav class="navbar is-light" role="navigation" aria-label="main navigation">
			<div class="container">
				<div class="navbar-brand">
					<a class="navbar-item is-active" href="../index.html">
						<span class="icon"><i class="fas fa-home"></i></span>
						<span>Home</span>
					</a>

					<a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="main-menu">
						<span aria-hidden="true"></span>
						<span aria-hidden="true"></span>
						<span aria-hidden="true"></span>
					</a>
				</div>

				<div id="main-menu" class="navbar-menu has-text-weight-medium">
					<!-- Left navbar items -->
					<div class="navbar-start">
						<a class="navbar-item" href="#viz">
							<span class="icon"><i class="fas fa-sitemap"></i></span>
							<span>Cluster</span>
						</a>
						<a class="navbar-item" href="./viz2.html">
							<span class="icon"><i class="fas fa-th"></i></span>
							<span>Treemap</span>
						</a>

					</div>

					<!-- Right navbar items -->
					<div class="navbar-end">
						<a class="navbar-item" href="#about" title="About">
							<span class="icon"><i class="fas fa-info-circle"></i></span>
							<span>About</span>
						</a>

						<a class="navbar-item" href="https://usf-cs360-spring2020.github.io/web-icgranger9/">
							<span class="icon"><i class="fas fa-door-open"></i></span>
							<span>Personal Site</span>
						</a>
					</div>

				</div>
			</div>
		</nav>
		<!-- End page navigation -->

		<section class="section">
			<div class="container">
				<!-- Begin page content -->
				<div class="content">
					<h1 class="title">
						Node Link Visualization
					</h1>

					<p> For this implementation, I created a node link visualization, using clustered hierarchical data, on a polar co-ordinate system. As mentioned elsewhere, my goal for this visualization is to see the different types of fire department calls that came in on April 20th (4/20). In particular, I think that this implementation is best at relating different emergencies back to the neighborhoob that the occured in, making it easier to see which part of the city celebrated the most. To do this, I organized the data into a hierarchy, where the root node contains all emergencies that occurred in the city to the desired date. From there, it is broken down into the different neighborhoods that make up the city, and below that it displays all emergencies that occurred in that neighborhood. In order to show how many of a given type of emergency there was, I used a color scale on the leaf nodes to convey a higher rate of emergencies.</p>

					<p>For interactivity, I provided details on demand, so if a user hovers over any node, a table appears with the  relevant information for that level, such as the neighborhood name, or the type and count of emergencies. Also, when a node is hovered over, it's path back to the root will be give a red stroke. And finally, I applied a filter if a node is hovered on for more than a second, all other nodes fade away, making it easier to see in crowded environments.</p>

					<h2 id="visualizations">D3 Implementation</h2>

					<figure>
						<svg width="960" height="600" id="vis">

							<g id="legend"></g>
							<g id="plot">
								<g id="links"></g>
								<g id="nodes"></g>

								<!-- turn off pointer events for certain groups -->
								<g id="details" pointer-events="none"></g>
							</g>
							
						</svg>

						<figcaption>
							Created By: Ian Granger <br>
							Data Source: <a href="https://data.sfgov.org/Public-Safety/Fire-Department-Calls-for-Service/nuek-vuh3">Fire Department Calls</a>
						</figcaption>
					</figure>

					<h2 id="about">About</h2>

					<!-- Profile box -->
					<article class="media">

						<figure class="media-left">
							<p class="image is-128x128"><img class="is-rounded" src="https://usf-cs360-spring2020.github.io/web-icgranger9/granger_profile.jpg"></p>
						</figure>

						<div class="media-content">
							<div class="content">

								<p>
									<strong>Ian Granger</strong><br/>
									CS Major, <a href="https://www.usfca.edu/">University of San Francisco</a><br/>
									<em>Expected Graduation: 2020</em><br/>
									<i class="fas fa-envelope"></i> <a href="mailto:icgranger@dons.usfca.edu">icgranger@dons.usfca.edu</a>
								</p>

								<p>
									Hi, My name is Ian Granger, and I am a second year graduate student majoring in computer science, looking forward to graduating at the end of this semester! I have recently moved back to the bay area after four years in New York. In my free time I like to travel, and visit friends all around the world... when there isn't a global pandemic. I am currently interning at Surefyre, an insurance start-up that Iâ€™ve been working at for the past 6 months.
								</p>

								<div class="heading">Skills</div>

								<div class="tags">
									<span class="tag">Python</span>
									<span class="tag">C++</span>
									<span class="tag">Java</span>
									<span class="tag">Go</span>

								</div>
							</div>
						</div>
					</article>
					<!-- End profile box -->
				</div>
				<!-- -End page content -->
			</div>
		</section>

		<!-- Page footer -->
		<footer class="footer">
			<div class="content has-text-centered is-size-7">
				<p>
					<a href="#top">
						<span class="fas fa-arrow-up"></span>
						<span class="has-text-weight-medium">Back to Top</span>
					</a>
				</p>

				<p>
					<a href="https://github.com/usf-cs360-spring2020/homework3-icgranger9" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
						<i class="fab fa-github-alt"></i>&nbsp;<strong>Github</strong>
					</a>

					<a href="https://fontawesome.com/" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
						<i class="fab fa-font-awesome"></i>&nbsp;<strong>FontAwesome</strong>
					</a>

					<a href="https://bulma.io" class="button is-small">
						<img src="https://bulma.io/images/made-with-bulma--semiblack.png" alt="Made with Bulma" width="128" height="24">
					</a>
				</p>
			</div>
		</footer>
		<!-- End page footer -->

		<!-- Mobile menu responsiveness -->
		<script>
			document.addEventListener('DOMContentLoaded', () => {
				const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

				if ($navbarBurgers.length > 0) {
					$navbarBurgers.forEach( el => {
						el.addEventListener('click', () => {
							const target = el.dataset.target;
							const $target = document.getElementById(target);
							el.classList.toggle('is-active');
							$target.classList.toggle('is-active');
						});
					});
				}
			});
		</script>
		<!-- End mobile menu responsiveness -->

		<!-- My core js -->
		<script type="text/javascript">

			let rawFile = "../data/raw_data_v3.csv";

			// Calls cleanData() from my common.js, which is used for both visualizations 
			// to properly format the data. Finally, it uses the callback function to actually
			// draw the cluster viz.
			cleanData(rawFile, createCluster);


		</script>

	</body>

</html>
